<div class="list-container">
  <div class="d-flex justify-content-between">
    <small class="d-flex align-items-center"><ion-icon name="flash" class="mx-2"></ion-icon><strong>{{msj}}</strong></small>
  </div>

  <ion-card *ngFor="let item of historias" >

    <!--TIPO TEXTO-->
    <div class="card-container" *ngIf="item.type === 'TEXT'">
        <div class="card-image" (click)="routeNavigate(item.id)">
          <img [src]="item.imagen !== null?'https://res.cloudinary.com/dzepvqbgz/image/upload/v1692657127/'+ item.imagen: './assets/img/fondo.jpg'" alt="Descripción de la imagen">
        </div>
        <div class="card-content" (click)="routeNavigate(item.id)">
          <h5 [ngStyle]="{'color': item.leido?'var(--ion-color-tertiary-shade)':''}">{{item.name | uppercase}}</h5>
          <div class="d-flex align-items-center" >
            <small>Publicado: {{item.createAt | date: 'MMM d, y'}}</small>
          </div>
          <div class="d-flex my-1 align-items-start flex-column flex-wrap">
            <ion-badge class="my-1" slot="end" [color]="item.leido? 'tertiary': 'medium'">{{item.leido? 'Historia leída': 'Historia No leída'}}</ion-badge>
            <!--<ion-badge *ngIf="item.favorito" class="my-2" slot="end" color="danger">Favorito</ion-badge>-->
          </div>

          <div class="d-flex align-items-center">
            <ion-badge class="d-flex align-items-center" slot="end" color="success"> <ion-icon  name="eye" style="font-size: 18px"></ion-icon>&nbsp;{{item.total_visto}}</ion-badge>

            <ion-badge class="d-flex align-items-center mx-2" slot="end" color="warning"> <ion-icon  name="chatbubbles" style="font-size: 18px"></ion-icon>&nbsp;{{item.total_comentarios}}</ion-badge>
          </div>
        </div>
      <ion-badge *ngIf="usuario !== undefined" slot="end" color="danger">
        <ion-icon [name]="item.favorito? 'heart':'heart-outline'" style="font-size: 15px" (click)="addfavoritos(item)"></ion-icon>
      </ion-badge>
      <ion-badge *ngIf="usuario === undefined" slot="end" style="min-width: 6%" [color]="item.favorito? 'danger': 'medium'">
        <ion-icon [name]="item.favorito? 'heart':'heart'" style="font-size: 15px" (click)="addfavoritosStorage(item)"></ion-icon>
      </ion-badge>
    </div>


    <!--TIPO VIDEO-->

    <div class="card-container" *ngIf="item.type !== 'TEXT'">
      <div class="card-image" (click)="routeNavigate(item.id)">
        <img [src]="'https://res.cloudinary.com/dzepvqbgz/image/upload/v1692657127/'+ item.imagen" alt="Descripción de la imagen">
        <div class="play-class">
          <ion-icon name="play" class="play-icon"></ion-icon>
        </div>

      </div>
      <div class="card-content">
        <h5>{{item.name | uppercase}}</h5>
        <div class="d-flex align-items-center" (click)="routeNavigate(item.id)">
          <small>Publicado: {{item.createAt | date: 'MMM d, y'}}</small>
        </div>
        <div class="d-flex align-items-start flex-column flex-wrap">
          <ion-badge class="my-1" slot="end" [color]="item.leido? 'tertiary': 'medium'">{{item.leido? 'Visto': 'No visto'}}</ion-badge>
          <ion-badge *ngIf="item.favorito" class="my-2" slot="end" color="danger">Favorito</ion-badge>
        </div>
        <div class="d-flex align-items-center" (click)="routeNavigate(item.id)">
          <ion-badge class="d-flex align-items-center" slot="end" color="success"> <ion-icon  name="eye" style="font-size: 18px"></ion-icon>&nbsp;{{item.total_visto}}</ion-badge>

          <ion-badge class="d-flex align-items-center mx-2" slot="end" color="warning"> <ion-icon  name="chatbubbles" style="font-size: 18px"></ion-icon>&nbsp;{{item.total_comentarios}}</ion-badge>
        </div>
      </div>
      <ion-badge *ngIf="usuario !== undefined" slot="end" color="danger">
        <ion-icon [name]="item.favorito? 'heart':'heart-outline'" style="font-size: 15px" (click)="addfavoritos(item)"></ion-icon>
      </ion-badge>
      <ion-badge *ngIf="usuario === undefined" slot="end" color="danger">
        <ion-icon [name]="item.favorito? 'heart':'heart-outline'" style="font-size: 15px" (click)="addfavoritosStorage(item)"></ion-icon>
      </ion-badge>
    </div>
  </ion-card>
  <!--<ion-card *ngFor="let item of historias">
    <div class="card-container">
      <div class="card-image">
        <div class="img-skeleton">
          <ion-skeleton-text animated></ion-skeleton-text>
        </div>
      </div>
      <div class="card-content">
        <h5>
          <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
        </h5>
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        <br><br>
        <div class="d-flex">
          <ion-skeleton-text animated style="width: 30%; margin-right: 5px"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
        </div>
      </div>
    </div>
  </ion-card>-->
</div>
